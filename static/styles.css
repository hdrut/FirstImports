:root { --bg:#0b0d10; --card:#12161c; --muted:#9aa4b2; --text:#e8edf3; --accent:#4aa3ff; --danger:#ff5b5b; }
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;color:var(--text);background:linear-gradient(180deg,#0b0d10,#07090c)}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
.container{max-width:1100px;margin:18px auto;padding:0 14px}
.topbar{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:12px 14px;background:rgba(18,22,28,.9);position:sticky;top:0;backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.06)}
.brand{font-weight:800;letter-spacing:.2px}
.nav{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.logout{display:flex;gap:10px;align-items:center;margin:0}
.userchip{color:var(--muted);font-size:14px}
.footer{opacity:.7;text-align:center;padding:24px 0}
.card{background:rgba(18,22,28,.92);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:14px;margin:12px 0;box-shadow:0 10px 30px rgba(0,0,0,.25)}
h1,h2,h3{margin:0 0 10px 0}
.muted{color:var(--muted)}
.small{font-size:12px}
.center{display:grid;place-items:center;min-height:100vh;padding:18px}
.form label{display:block;margin:10px 0 6px;color:var(--muted);font-size:13px}
input,select,textarea,button{width:100%;padding:10px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.10);background:#0e1218;color:var(--text);outline:none}
textarea{resize:vertical}
button{cursor:pointer}
.btn{display:inline-block;background:var(--accent);border:none;color:#00111f;font-weight:700;padding:10px 12px;border-radius:10px}
.btn:hover{filter:brightness(1.05)}
.btn.secondary{background:transparent;border:1px solid rgba(255,255,255,.18);color:var(--text)}
.btn.danger{background:var(--danger);color:#200}
.btn.small{padding:7px 10px;font-size:12px}
.btn.full{width:100%}
.alert{background:rgba(255,91,91,.15);border:1px solid rgba(255,91,91,.35);padding:10px;border-radius:10px;margin:10px 0}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.kpi{background:rgba(18,22,28,.92);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:14px}
.kpi-title{color:var(--muted);font-size:13px}
.kpi-value{font-size:22px;font-weight:800}
.bigmoney{font-size:34px;font-weight:900}
.filters{display:flex;gap:10px;flex-wrap:wrap;align-items:flex-end;margin:12px 0}
.filters > div{min-width:160px}
.grow{flex:1}
.actions{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
.tablewrap{overflow:auto}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:10px;border-bottom:1px solid rgba(255,255,255,.06);text-align:left;vertical-align:top}
.table th{color:var(--muted);font-weight:700;font-size:12px;text-transform:uppercase;letter-spacing:.04em}
.right{text-align:right}
.row-between{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
.totalbox{padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,.10);background:#0e1218;font-weight:800}
@media (max-width: 860px){
  .grid{grid-template-columns:1fr}
  .grid2{grid-template-columns:1fr}
  .nav{gap:8px}
}
/* ====== Mobile UX defaults ====== */
:root{
  --tap: 48px;              /* tamaño recomendado de touch target */
  --radius: 14px;
  --gap: 12px;
  --fs: 16px;
}

html { font-size: var(--fs); }
body { -webkit-text-size-adjust: 100%; }

a, button, input, select, textarea {
  font-size: 1rem;
}

/* Evita zoom raro en iOS si font-size <16 */
input, select, textarea { font-size: 16px; }

.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-height: var(--tap);
  padding: 12px 16px;
  border-radius: var(--radius);
  font-weight: 700;
  text-decoration:none;
  cursor:pointer;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
}

.btn.big{
  min-height: 56px;
  padding: 16px 18px;
  font-size: 1.05rem;
}

.btn.full{
  width: 100%;
}

.btn.danger{ /* si ya existe, mantené tu color */
  /* background: ...; */
}

.row-between{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: var(--gap);
  flex-wrap: wrap; /* clave en mobile */
}

/* Grillas existentes -> apilar en mobile */
.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--gap);
}

@media (max-width: 720px){
  .grid2{ grid-template-columns: 1fr; }
}

/* Cards con padding cómodo */
.card{
  border-radius: var(--radius);
  padding: 14px;
}

/* ====== Sticky action bar (bottom) ====== */
.actionbar{
  position: sticky;
  bottom: 0;
  padding: 10px;
  background: rgba(255,255,255,0.92);
  backdrop-filter: blur(8px);
  border-top: 1px solid rgba(0,0,0,0.08);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  z-index: 50;
}

/* Si hay 3 botones */
.actionbar.three{
  grid-template-columns: 1fr 1fr 1fr;
}

/* Separación para que el contenido no quede tapado por la actionbar */
.page{
  padding-bottom: 90px;
}

/* Listas “clickeables” más grandes */
.list-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  padding: 14px;
  border-radius: var(--radius);
  text-decoration:none;
}
.list-item:active{
  transform: scale(0.99);
}

/* ===== Drawer mobile (final) ===== */

/* Fix: tu CSS global pone button { width:100% } */
.nav-toggle{
  width: auto !important;
  max-width: 52px;
  display: none; /* default: oculto */
  border: 0;
  background: transparent;
  font-size: 22px;
  cursor: pointer;
  padding: 8px 10px;
  border-radius: 10px;
}

.menu-overlay{ display:none; }

/* ACTIVAR drawer SOLO en móviles/touch (evita que aparezca en PC) */
@media (hover: none) and (pointer: coarse) {

  .nav-toggle{
    display: inline-flex;
    align-items:center;
    justify-content:center;
  }

  /* el menú pasa a ser drawer (fuera de pantalla) */
  .menu{
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: min(84vw, 320px);
    padding: 16px;

    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 14px;

    background: var(--card);
    z-index: 1001;

    transform: translateX(-105%);
    transition: transform .2s ease;
  }

  body.menu-open .menu{
    transform: translateX(0);
  }

  /* nav vertical dentro del drawer */
  .menu .nav{
    display:flex;
    flex-direction: column;
    flex-wrap: nowrap;
    gap: 10px;
  }

  /* importante: “anula” cualquier flex raro que te hubiera quedado */
  .menu .nav a{
    flex: initial;
  }

  /* logout abajo */
  .menu .logout{
    margin-top: auto;
  }

  /* overlay */
  .menu-overlay{
    display: block;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.35);
    opacity: 0;
    pointer-events: none;
    transition: opacity .2s ease;
    z-index: 1000;
  }

  body.menu-open .menu-overlay{
    opacity: 1;
    pointer-events: auto;
  }

  body.menu-open{
    overflow: hidden;
  }
}

